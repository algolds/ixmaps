<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IxMapsâ„¢ - v4.0</title>
  
  <!-- Preload critical resources -->
  <link rel="preload" href="css/main.css" as="style">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" as="style" crossorigin="anonymous">
  <link rel="preload" href="dist/js/index.js" as="script" crossorigin="anonymous">
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" crossorigin="anonymous" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/main.css" />
</head>
<body>
  <div id="map"></div>
  <div id="loading-indicator">Loading map...</div>
  
  <!-- Add Leaflet as a global script first -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js" crossorigin="anonymous"></script>
  
  <!-- Add a module to expose Leaflet globally for ES modules -->
  <script type="module">
    // Create a global L reference for non-module scripts
    window.L = L;
  </script>
  
  <!-- Main TypeScript bundle -->
  <script type="module" src="dist/js/index.js" crossorigin="anonymous"></script>
</body>
</html>